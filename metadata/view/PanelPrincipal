{
    "id": "ExtBox1-ext-gen5943",
    "type": "navigationview",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "height": null,
        "ui": "light",
        "defaultBackButtonText": "Tornar",
        "designer|userClassName": "PanelPrincipal",
        "designer|userAlias": "PanPrinc"
    },
    "customConfigs": [],
    "designerId": "5e0dc7e9-6761-473c-8fe7-a6a7cb52cdfe",
    "$viewOrder": 0,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen9883",
            "type": "navigationbar",
            "reference": {
                "name": "navigationBar",
                "type": "object"
            },
            "codeClass": null,
            "userConfig": {
                "height": 38,
                "hidden": true,
                "id": "navbar",
                "itemId": "navbarpr",
                "tpl": null,
                "designer|userClassName": "MyNavigationBar",
                "title": null
            },
            "customConfigs": [],
            "iconCls": "icon-navbar",
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen5796",
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onNavigationviewShow",
                "implHandler": "var store = Ext.data.StoreManager.lookup('dadesPacient');\r\nif (store.getCount() === 0){\r\n    Ext.Msg.alert('Atenció!','Per tal de poder utilitzar l\\'aplicatiu, ha d\\'introduïr algunes dades.', Ext.emptyFn);\r\n    var dades = Ext.create('RegCr.view.DadesPanel', {fullscreen: true});\r\n    Ext.ComponentQuery.query('#navbar')[0].setHidden(false);\r\n    this.push(dades);\r\n}\r\nelse {Ext.ComponentQuery.query('#navbar')[0].setHidden(true);}",
                "name": "show",
                "designer|userClassName": "onNavigationviewShow"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen12229",
            "type": "nestedlist",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "docked": null,
                "height": 300,
                "itemId": "mynestedlist",
                "onItemDisclosure": "true",
                "store": "MenuList",
                "title": "Registre cr&ograve;nics",
                "designer|userClassName": "MyNestedList"
            },
            "customConfigs": [],
            "expanded": true,
            "cn": [
                {
                    "id": "ExtBox1-ext-gen11329",
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onMynestedlistLeafItemTap",
                        "implHandler": "\r\nif (record.get('text')=='Detalls'){\r\n    var tabPanel = Ext.create('Ext.Panel', {\r\n        title: 'Registre cr&ograve;nics',\r\n        cls: 'home',\r\n        styleHtmlContent:true,\r\n        items: [\r\n        {\r\n            html: [\r\n            \"<h2>Registre de dades per pacients Cr&ograve;nics</h2><br>\",\r\n            \"Registre de dades de pacients cr&ograve;nics<br>Versi&oacute; 1.0<br>\",\r\n            \"<br><br> Autor: Lluis Rey Junquera\",\r\n            \"<br>Coordinador: Carlos Sanchez Rosa\"\r\n            ].join(\"\")\r\n        }\r\n        ]\r\n    });\r\n}\r\nelse if (record.get('text')=='Registrar Pressi&oacute;'){\r\n    var tabPanel= Ext.create('Ext.Panel', {\r\n        title: 'Registre de Pressi&oacute;',\r\n        items: [\r\n        {\r\n            xtype:'datepickerfield',\r\n            name:'Data',\r\n            id:'DataP',\r\n            label:'Data',\r\n            dateFormat: 'd/m/Y',\r\n            picker: { \r\n                yearFrom: new Date().getFullYear()-1, yearTo: new Date().getFullYear(),\r\n                slotOrder: ['day', 'month', 'year'],\r\n                doneButton: 'Fet',\r\n                cancelButton: 'Cancel.lar'\r\n            },\r\n            value : { day: new Date().getDate(), month: new Date().getMonth()+1, year : new Date().getFullYear()}\r\n        },\r\n        {\r\n            xtype:'spinnerfield',\r\n            name:'Maxima',\r\n            id: 'MaxP',\r\n            label:'M&aacute;xima',\r\n            minValue: 30,\r\n            maxValue: 300,\r\n            defaultValue: 120,\r\n            increment: 1,\r\n            cycle: true\r\n        },\r\n        {\r\n            xtype:'spinnerfield',\r\n            name:'Minima',\r\n            id: 'MinP',\r\n            label:'M&iacute;nima',\r\n            minValue: 30,\r\n            maxValue: 200,\r\n            defaultValue: 60,\r\n            increment: 1,\r\n            cycle: true\r\n        },\t\t\r\n        {\r\n            xtype:'spinnerfield',\r\n            name:'Pulsacions',\r\n            id: 'Pols',\r\n            label:'Pulsacions',\r\n            minValue: 30,\r\n            maxValue: 290,\r\n            defaultValue: 80,\r\n            increment: 1,\r\n            cycle: true\r\n        },\t\r\n        {\r\n            xtype: 'button',\r\n            text: 'Ok',\r\n            ui: 'confirm',\r\n            handler: function(){\r\n                var dataAct = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate());\r\n                var dataPick = Ext.ComponentQuery.query('#DataP')[0].getValue();\r\n                console.log(dataAct);\r\n                console.log(dataPick);\r\n                if (dataPick <= dataAct){\r\n                    var store = Ext.data.StoreManager.lookup('StoreDadesP');\r\n                    var var1 = Ext.ComponentQuery.query('#DataP')[0].getValue();\r\n                    var var2 = Ext.ComponentQuery.query('#MaxP')[0].getValue();\r\n                    var var3 = Ext.ComponentQuery.query('#MinP')[0].getValue();\r\n                    var var4 = Ext.ComponentQuery.query('#Pols')[0].getValue();\r\n                    store.add({Data: var1, maxima: var2, minima: var3, pulsacions: var4});\r\n                    store.sync();\r\n                    Ext.Msg.alert('Registre creat', 'Registre creat correctament.', Ext.emptyFn);\r\n                }\r\n                else{Ext.Msg.alert('Error', 'Data incorrecta.', Ext.emptyFn);}\r\n            }\r\n        }\r\n        ]\r\n    });\r\n}\r\nelse if (record.get('text')=='Registrar Glucosa'){\r\n    var tabPanel= Ext.create('Ext.Panel', {\r\n        title: 'Registre de Pressi&oacute;',\r\n        items: [\r\n        {\r\n            xtype:'datepickerfield',\r\n            name:'Data',\r\n            label:'Data',\r\n            id: 'Data',\r\n            dateFormat: 'd/m/Y',\r\n            picker: { \r\n                yearFrom: new Date().getFullYear()-1, yearTo: new Date().getFullYear(),\r\n                slotOrder: ['day', 'month', 'year'],\r\n                doneButton: 'Fet',\r\n                cancelButton: 'Cancel.lar'\r\n            },\r\n            value : { day: new Date().getDate(), month: (new Date().getMonth())+1, year : new Date().getFullYear()}\r\n        },\r\n        {\r\n            xtype:'spinnerfield',\r\n            name:'Glucosa',\r\n            id: 'Glucosa',\r\n            label:'Glucosa',\r\n            minValue: 20,\r\n            maxValue: 500,\r\n            defaultValue: 120,\r\n            increment: 1,\r\n            cycle: true\r\n        },\r\n        {\r\n            xtype: 'button',\r\n            text: 'Ok',\r\n            ui: 'confirm',\r\n            handler: function(){\r\n                var dataAct = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate());\r\n                var dataPick = Ext.ComponentQuery.query('#Data')[0].getValue();\r\n                console.log(dataAct);\r\n                console.log(dataPick);\r\n                if (dataPick <= dataAct){\r\n                    var store = Ext.data.StoreManager.lookup('StoreDadesG');\r\n                    var var1 = Ext.ComponentQuery.query('#Data')[0].getValue();\r\n                    var var2 = Ext.ComponentQuery.query('#Glucosa')[0].getValue();\r\n                    store.add({Data: var1, Glucosa: var2});\r\n                    store.sync();\r\n                    Ext.Msg.alert('Registre creat', 'Registre creat correctament.', Ext.emptyFn);\r\n                }\r\n                else{Ext.Msg.alert('Error', 'Data incorrecta.', Ext.emptyFn);}\r\n            }\r\n        }\r\n        ]\r\n    });\r\n}\r\nelse if (record.get('text')=='Dades Pacient'){\r\n    var tabPanel= Ext.create('RegCr.view.DadesPanel');\r\n    var store = Ext.data.StoreManager.lookup('dadesPacient');\r\n    //console.log('Load data into dadesPacient form');\r\n    if (store.getCount() > 0){\r\n        var data = store.getAt(0);\r\n        console.log(data.get('Codi'));\r\n        Ext.ComponentQuery.query('#Codi')[0].setValue(data.get('Codi'));\r\n        Ext.ComponentQuery.query('#Nom')[0].setValue(data.get('Nom'));\r\n        Ext.ComponentQuery.query('#email')[0].setValue(data.get('eMail'));\r\n        Ext.ComponentQuery.query('#PressTgl')[0].setValue(data.get('Pressio'));\r\n        Ext.ComponentQuery.query('#GlucTgl')[0].setValue(data.get('Glucosa'));\r\n    }\r\n}\r\nelse if (record.get('text')=='Hist&ograve;ric Pressi&oacute;'){\r\n    var tabPanel= Ext.create('RegCr.view.PLlistaPrs');\r\n}\r\nelse if (record.get('text')=='Hist&ograve;ric Glucosa'){\r\n    var tabPanel= Ext.create('RegCr.view.PLlistaGlc');\r\n}\r\nelse if (record.get('text')=='Gr&agrave;fica de Pressi&oacute;'){\r\n    var tabPanel= Ext.create('RegCr.view.GraficPrs');\r\n}\r\nelse if (record.get('text')=='Gr&agrave;fica de Glucosa'){\r\n    var tabPanel= Ext.create('RegCr.view.GraficGlc');\r\n}\r\nExt.ComponentQuery.query('#navbar')[0].setHidden(false);\r\nthis.push(tabPanel);\r\n",
                        "name": "leafitemtap",
                        "designer|userClassName": "onMynestedlistLeafItemTap"
                    },
                    "customConfigs": [],
                    "expanded": true
                },
                {
                    "id": "ExtBox1-ext-gen3085",
                    "type": "toolbar",
                    "reference": {
                        "name": "toolbar",
                        "type": "object"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": null,
                        "designer|userClassName": "MyToolbar"
                    },
                    "customConfigs": [],
                    "expanded": true
                },
                {
                    "id": "ExtBox1-ext-gen9084",
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onMynestedlistShow",
                        "implHandler": "Ext.ComponentQuery.query('#navbar')[0].setHidden(true);",
                        "name": "show",
                        "designer|userClassName": "onMynestedlistShow"
                    },
                    "customConfigs": [],
                    "expanded": true
                }
            ]
        }
    ]
}