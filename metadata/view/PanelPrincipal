{
    "id": "ExtBox1-ext-gen5943",
    "type": "navigationview",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "height": null,
        "ui": "light",
        "defaultBackButtonText": "Tornar",
        "designer|userClassName": "PanelPrincipal",
        "designer|userAlias": "PanPrinc"
    },
    "customConfigs": [],
    "designerId": "5e0dc7e9-6761-473c-8fe7-a6a7cb52cdfe",
    "$viewOrder": 0,
    "expanded": false,
    "cn": [
        {
            "id": "ExtBox1-ext-gen9883",
            "type": "navigationbar",
            "reference": {
                "name": "navigationBar",
                "type": "object"
            },
            "codeClass": null,
            "userConfig": {
                "height": null,
                "id": "navbar",
                "itemId": "navbarpr",
                "tpl": null,
                "designer|userClassName": "MyNavigationBar"
            },
            "customConfigs": [],
            "iconCls": "icon-navbar",
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen5796",
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onNavigationviewShow",
                "implHandler": [
                    "Ext.ComponentQuery.query('#navbar')[0].titleComponent.setTitle('Registre cr&ograve;nics');\r",
                    "Ext.ComponentQuery.query('#navbar')[0].titleComponent.setMinWidth(200);\r",
                    "var store = Ext.data.StoreManager.lookup('dadesPacient');\r",
                    "if (store.getCount() === 0){\r",
                    "    Ext.Msg.alert('Atenció!','Per tal de poder utilitzar l\\'aplicatiu, ha d\\'introduïr algunes dades.', Ext.emptyFn);\r",
                    "    var dades = Ext.create('RegCr.view.DadesPanel', {fullscreen: true});\r",
                    "    //Ext.ComponentQuery.query('#navbar')[0].setHidden(false);\r",
                    "    this.push(dades);\r",
                    "}\r",
                    "else {\r",
                    "    //Ext.ComponentQuery.query('#navbar')[0].setHidden(true);\r",
                    "}\r",
                    ""
                ],
                "name": "show",
                "designer|userClassName": "onNavigationviewShow"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen12229",
            "type": "nestedlist",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "docked": null,
                "height": 300,
                "itemId": "mynestedlist",
                "onItemDisclosure": "true",
                "store": "MenuList",
                "title": "Inici",
                "designer|userClassName": "MyNestedList"
            },
            "customConfigs": [],
            "expanded": true,
            "cn": [
                {
                    "id": "ExtBox1-ext-gen11329",
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onMynestedlistLeafItemTap",
                        "implHandler": [
                            "\r",
                            "if (record.get('text')=='Detalls'){\r",
                            "    var tabPanel = Ext.create('Ext.Panel', {\r",
                            "        title: 'Registre cr&ograve;nics',\r",
                            "        cls: 'home',\r",
                            "        styleHtmlContent:true,\r",
                            "        items: [\r",
                            "        {\r",
                            "            html: [\r",
                            "            \"<h2>Registre de dades per pacients Cr&ograve;nics</h2><br>\",\r",
                            "            \"Registre de dades de pacients cr&ograve;nics<br>Versi&oacute; 1.0<br>\",\r",
                            "            \"<br><br> Autor: Lluis Rey Junquera\",\r",
                            "            \"<br>Coordinador: Carlos Sanchez Rosa\"\r",
                            "            ].join(\"\")\r",
                            "        }\r",
                            "        ]\r",
                            "    });\r",
                            "}\r",
                            "else if (record.get('text')=='Registrar Pressi&oacute;'){\r",
                            "    var tabPanel= Ext.create('Ext.Panel', {\r",
                            "        title: 'Registre de Pressi&oacute;',\r",
                            "        items: [\r",
                            "        {\r",
                            "            xtype:'datepickerfield',\r",
                            "            name:'Data',\r",
                            "            id:'DataP',\r",
                            "            label:'Data',\r",
                            "            dateFormat: 'd/m/Y',\r",
                            "            picker: { \r",
                            "                yearFrom: new Date().getFullYear()-1, yearTo: new Date().getFullYear(),\r",
                            "                slotOrder: ['day', 'month', 'year'],\r",
                            "                doneButton: 'Fet',\r",
                            "                cancelButton: 'Cancel.lar'\r",
                            "            },\r",
                            "            value : { day: new Date().getDate(), month: new Date().getMonth()+1, year : new Date().getFullYear()}\r",
                            "        },\r",
                            "        {\r",
                            "            xtype:'spinnerfield',\r",
                            "            name:'Maxima',\r",
                            "            id: 'MaxP',\r",
                            "            label:'M&aacute;xima',\r",
                            "            minValue: 30,\r",
                            "            maxValue: 300,\r",
                            "            defaultValue: 120,\r",
                            "            increment: 1,\r",
                            "            cycle: true\r",
                            "        },\r",
                            "        {\r",
                            "            xtype:'spinnerfield',\r",
                            "            name:'Minima',\r",
                            "            id: 'MinP',\r",
                            "            label:'M&iacute;nima',\r",
                            "            minValue: 30,\r",
                            "            maxValue: 200,\r",
                            "            defaultValue: 60,\r",
                            "            increment: 1,\r",
                            "            cycle: true\r",
                            "        },\t\t\r",
                            "        {\r",
                            "            xtype:'spinnerfield',\r",
                            "            name:'Pulsacions',\r",
                            "            id: 'Pols',\r",
                            "            label:'Pulsacions',\r",
                            "            minValue: 30,\r",
                            "            maxValue: 290,\r",
                            "            defaultValue: 80,\r",
                            "            increment: 1,\r",
                            "            cycle: true\r",
                            "        },\t\r",
                            "        {\r",
                            "            xtype: 'button',\r",
                            "            text: 'Ok',\r",
                            "            ui: 'confirm',\r",
                            "            handler: function(){\r",
                            "                var dataAct = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate());\r",
                            "                var dataPick = Ext.ComponentQuery.query('#DataP')[0].getValue();\r",
                            "                if (dataPick <= dataAct){\r",
                            "                    var store = Ext.data.StoreManager.lookup('StoreDadesP');\r",
                            "                    var var1 = Ext.ComponentQuery.query('#DataP')[0].getValue();\r",
                            "                    var var2 = Ext.ComponentQuery.query('#MaxP')[0].getValue();\r",
                            "                    var var3 = Ext.ComponentQuery.query('#MinP')[0].getValue();\r",
                            "                    var var4 = Ext.ComponentQuery.query('#Pols')[0].getValue();\r",
                            "                    store.add({Data: var1, maxima: var2, minima: var3, pulsacions: var4});\r",
                            "                    store.sync();\r",
                            "                    Ext.Msg.alert('Registre creat', 'Registre creat correctament.', Ext.emptyFn);\r",
                            "                }\r",
                            "                else{Ext.Msg.alert('Error', 'Data incorrecta.', Ext.emptyFn);}\r",
                            "            }\r",
                            "        }\r",
                            "        ]\r",
                            "    });\r",
                            "}\r",
                            "else if (record.get('text')=='Registrar Glucosa'){\r",
                            "    var tabPanel= Ext.create('Ext.Panel', {\r",
                            "        title: 'Registre de Pressi&oacute;',\r",
                            "        items: [\r",
                            "        {\r",
                            "            xtype:'datepickerfield',\r",
                            "            name:'Data',\r",
                            "            label:'Data',\r",
                            "            id: 'Data',\r",
                            "            dateFormat: 'd/m/Y',\r",
                            "            picker: { \r",
                            "                yearFrom: new Date().getFullYear()-1, yearTo: new Date().getFullYear(),\r",
                            "                slotOrder: ['day', 'month', 'year'],\r",
                            "                doneButton: 'Fet',\r",
                            "                cancelButton: 'Cancel.lar'\r",
                            "            },\r",
                            "            value : { day: new Date().getDate(), month: (new Date().getMonth())+1, year : new Date().getFullYear()}\r",
                            "        },\r",
                            "        {\r",
                            "            xtype:'spinnerfield',\r",
                            "            name:'Glucosa',\r",
                            "            id: 'Glucosa',\r",
                            "            label:'Glucosa',\r",
                            "            minValue: 20,\r",
                            "            maxValue: 500,\r",
                            "            defaultValue: 120,\r",
                            "            increment: 1,\r",
                            "            cycle: true\r",
                            "        },\r",
                            "        {\r",
                            "            xtype: 'button',\r",
                            "            text: 'Ok',\r",
                            "            ui: 'confirm',\r",
                            "            handler: function(){\r",
                            "                var dataAct = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate());\r",
                            "                var dataPick = Ext.ComponentQuery.query('#Data')[0].getValue();\r",
                            "                if (dataPick <= dataAct){\r",
                            "                    var store = Ext.data.StoreManager.lookup('StoreDadesG');\r",
                            "                    var var1 = Ext.ComponentQuery.query('#Data')[0].getValue();\r",
                            "                    var var2 = Ext.ComponentQuery.query('#Glucosa')[0].getValue();\r",
                            "                    store.add({Data: var1, Glucosa: var2});\r",
                            "                    store.sync();\r",
                            "                    Ext.Msg.alert('Registre creat', 'Registre creat correctament.', Ext.emptyFn);\r",
                            "                }\r",
                            "                else{Ext.Msg.alert('Error', 'Data incorrecta.', Ext.emptyFn);}\r",
                            "            }\r",
                            "        }\r",
                            "        ]\r",
                            "    });\r",
                            "}\r",
                            "else if (record.get('text')=='Dades Pacient'){\r",
                            "    var tabPanel= Ext.create('RegCr.view.DadesPanel');\r",
                            "    var store = Ext.data.StoreManager.lookup('dadesPacient');\r",
                            "    if (store.getCount() > 0){\r",
                            "        var data = store.getAt(0);\r",
                            "        console.log(data.get('Codi'));\r",
                            "        Ext.ComponentQuery.query('#Codi')[0].setValue(data.get('Codi'));\r",
                            "        Ext.ComponentQuery.query('#Nom')[0].setValue(data.get('Nom'));\r",
                            "        Ext.ComponentQuery.query('#email')[0].setValue(data.get('eMail'));\r",
                            "        Ext.ComponentQuery.query('#PressTgl')[0].setValue(data.get('Pressio'));\r",
                            "        Ext.ComponentQuery.query('#GlucTgl')[0].setValue(data.get('Glucosa'));\r",
                            "    }\r",
                            "}\r",
                            "else if (record.get('text')=='Hist&ograve;ric Pressi&oacute;'){\r",
                            "    var tabPanel= Ext.create('RegCr.view.PLlistaPrs');\r",
                            "}\r",
                            "else if (record.get('text')=='Hist&ograve;ric Glucosa'){\r",
                            "    var tabPanel= Ext.create('RegCr.view.PLlistaGlc');\r",
                            "}\r",
                            "else if (record.get('text')=='Gr&agrave;fica de Pressi&oacute;'){\r",
                            "    var tabPanel= Ext.create('RegCr.view.GraficPrs');\r",
                            "}\r",
                            "else if (record.get('text')=='Gr&agrave;fica de Glucosa'){\r",
                            "    var tabPanel= Ext.create('RegCr.view.GraficGlc');\r",
                            "}\r",
                            "//Ext.ComponentQuery.query('#navbar')[0].setHidden(false);\r",
                            "this.push(tabPanel);\r",
                            ""
                        ],
                        "name": "leafitemtap",
                        "designer|userClassName": "onMynestedlistLeafItemTap"
                    },
                    "customConfigs": [],
                    "expanded": true
                },
                {
                    "id": "ExtBox1-ext-gen3085",
                    "type": "toolbar",
                    "reference": {
                        "name": "toolbar",
                        "type": "object"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": null,
                        "designer|userClassName": "MyToolbar"
                    },
                    "customConfigs": [],
                    "expanded": true
                },
                {
                    "id": "ExtBox1-ext-gen7090",
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onMynestedlistWidthChange",
                        "implHandler": [
                            "Ext.ComponentQuery.query('#navbar')[0].titleComponent.setWidth(200);"
                        ],
                        "name": "widthchange",
                        "designer|userClassName": "onMynestedlistWidthChange"
                    },
                    "customConfigs": [],
                    "expanded": true
                },
                {
                    "id": "ExtBox1-ext-gen7987",
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onMynestedlistBack",
                        "implHandler": [
                            "Ext.ComponentQuery.query('#navbar')[0].titleComponent.setTitle('Registre cr&ograve;nics');"
                        ],
                        "name": "back",
                        "designer|userClassName": "onMynestedlistBack"
                    },
                    "customConfigs": [],
                    "expanded": true
                }
            ]
        }
    ]
}